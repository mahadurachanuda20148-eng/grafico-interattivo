<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <title>Historical performance of best Tech, Food and Fashion stocks</title>
  <script src="https://cdn.plot.ly/plotly-2.32.0.min.js"></script>
  <style>
    body {
      font-family: Arial, sans-serif;
      max-width: 1100px;
      margin: 20px auto;
      padding: 0 14px;
    }
    h2 { margin-bottom: 6px; }
    .dropdown { position: relative; min-width: 340px; margin-bottom: 12px; }
    .dropbtn {
      width: 100%;
      padding: 10px 12px;
      border: 1px solid #ccc;
      border-radius: 10px;
      background: #fff;
      cursor: pointer;
    }
    .menu {
      display: none;
      position: absolute;
      width: 100%;
      max-height: 300px;
      overflow: auto;
      border: 1px solid #ccc;
      border-radius: 12px;
      background: #fff;
      padding: 10px;
      z-index: 20;
      box-shadow: 0 10px 22px rgba(0,0,0,0.12);
    }
    .menu.open { display: block; }
    .search {
      width: 100%;
      padding: 8px;
      margin-bottom: 8px;
      border-radius: 8px;
      border: 1px solid #ddd;
    }
    .item { display: flex; gap: 8px; padding: 6px; cursor: pointer; }
    .item:hover { background: #f5f5f5; }
    .btnrow { margin-top: 8px; display: flex; gap: 8px; flex-wrap: wrap; }
    #chart { height: 640px; }
  </style>
</head>
<body>

<h2>Historical performance of best Tech, Food and Fashion stocks</h2>

<div class="dropdown">
  <button class="dropbtn" id="dropbtn">Choose stocks…</button>
  <div class="menu" id="menu">
    <input class="search" id="search" placeholder="Search…" />
    <div id="items"></div>
    <div class="btnrow">
      <button id="selectAll">Select all</button>
      <button id="clearAll">Clear</button>
      <button id="apply">Apply</button>
    </div>
  </div>
</div>

<div id="chart"></div>

<script>
const DATA = {"dates": ["2010-01-31", "2010-02-28", "2010-03-31", "2010-04-30", "2010-05-31", "2010-06-30", "2010-07-31", "2010-08-31", "2010-09-30", "2010-10-31", "2010-11-30", "2010-12-31", "2011-01-31", "2011-02-28", "2011-03-31", "2011-04-30", "2011-05-31", "2011-06-30", "2011-07-31", "2011-08-31", "2011-09-30", "2011-10-31", "2011-11-30", "2011-12-31", "2012-01-31", "2012-02-29", "2012-03-31", "2012-04-30", "2012-05-31", "2012-06-30", "2012-07-31", "2012-08-31", "2012-09-30", "2012-10-31", "2012-11-30", "2012-12-31", "2013-01-31", "2013-02-28", "2013-03-31", "2013-04-30", "2013-05-31", "2013-06-30", "2013-07-31", "2013-08-31", "2013-09-30", "2013-10-31", "2013-11-30", "2013-12-31", "2014-01-31", "2014-02-28", "2014-03-31", "2014-04-30", "2014-05-31", "2014-06-30", "2014-07-31", "2014-08-31", "2014-09-30", "2014-10-31", "2014-11-30", "2014-12-31", "2015-01-31", "2015-02-28", "2015-03-31", "2015-04-30", "2015-05-31", "2015-06-30", "2015-07-31", "2015-08-31", "2015-09-30", "2015-10-31", "2015-11-30", "2015-12-31", "2016-01-31", "2016-02-29", "2016-03-31", "2016-04-30", "2016-05-31", "2016-06-30", "2016-07-31", "2016-08-31", "2016-09-30", "2016-10-31", "2016-11-30", "2016-12-31", "2017-01-31", "2017-02-28", "2017-03-31", "2017-04-30", "2017-05-31", "2017-06-30", "2017-07-31", "2017-08-31", "2017-09-30", "2017-10-31", "2017-11-30", "2017-12-31", "2018-01-31", "2018-02-28", "2018-03-31", "2018-04-30", "2018-05-31", "2018-06-30", "2018-07-31", "2018-08-31", "2018-09-30", "2018-10-31", "2018-11-30", "2018-12-31", "2019-01-31", "2019-02-28", "2019-03-31", "2019-04-30", "2019-05-31", "2019-06-30", "2019-07-31", "2019-08-31", "2019-09-30", "2019-10-31", "2019-11-30", "2019-12-31", "2020-01-31", "2020-02-29", "2020-03-31", "2020-04-30", "2020-05-31", "2020-06-30", "2020-07-31", "2020-08-31", "2020-09-30", "2020-10-31", "2020-11-30", "2020-12-31", "2021-01-31", "2021-02-28", "2021-03-31", "2021-04-30", "2021-05-31", "2021-06-30", "2021-07-31", "2021-08-31", "2021-09-30", "2021-10-31", "2021-11-30", "2021-12-31", "2022-01-31", "2022-02-28", "2022-03-31", "2022-04-30", "2022-05-31", "2022-06-30", "2022-07-31", "2022-08-31", "2022-09-30", "2022-10-31", "2022-11-30", "2022-12-31", "2023-01-31", "2023-02-28", "2023-03-31", "2023-04-30", "2023-05-31", "2023-06-30", "2023-07-31", "2023-08-31", "2023-09-30", "2023-10-31", "2023-11-30", "2023-12-31", "2024-01-31", "2024-02-29", "2024-03-31", "2024-04-30", "2024-05-31", "2024-06-30", "2024-07-31", "2024-08-31", "2024-09-30", "2024-10-31", "2024-11-30", "2024-12-31", "2025-01-31", "2025-02-28", "2025-03-31", "2025-04-30", "2025-05-31", "2025-06-30", "2025-07-31", "2025-08-31", "2025-09-30", "2025-10-31", "2025-11-30", "2025-12-31", "2026-01-31"], "close": {"Apple": [6.859285831451416, 7.307857036590576, 8.39285659790039, 9.3246431350708, 9.174285888671875, 8.983214378356934, 9.1875, 8.682143211364746, 10.133929252624512, 10.749285697937012, 11.112500190734863, 11.520000457763672, 12.118571281433105, 12.614643096923828, 12.446785926818848, 12.504643440246582, 12.422499656677246, 11.988213539123535, 13.945713996887207, 13.743928909301758, 13.618571281433105, 14.456428527832031, 13.649999618530273, 14.464285850524902, 16.3028564453125, 19.37285614013672, 21.412500381469727, 20.856428146362305, 20.633214950561523, 20.85714340209961, 21.812856674194336, 23.75857162475586, 23.825000762939453, 21.261428833007812, 20.902856826782227, 19.006071090698242, 16.267499923706055, 15.764286041259766, 15.809286117553711, 15.813570976257324, 16.061786651611328, 14.161786079406738, 16.161785125732422, 17.400714874267578, 17.02678680419922, 18.667856216430664, 19.859643936157227, 20.036428451538086, 17.878570556640625, 18.794286727905273, 19.169286727905273, 21.074642181396484, 22.60714340209961, 23.232500076293945, 23.899999618530273, 25.625, 25.1875, 27.0, 29.732500076293945, 27.594999313354492, 29.290000915527344, 32.1150016784668, 31.107500076293945, 31.287500381469727, 32.56999969482422, 31.357500076293945, 30.325000762939453, 28.190000534057617, 27.575000762939453, 29.875, 29.575000762939453, 26.315000534057617, 24.334999084472656, 24.172500610351562, 27.247499465942383, 23.434999465942383, 24.96500015258789, 23.899999618530273, 26.052499771118164, 26.524999618530273, 28.262500762939453, 28.385000228881836, 27.6299991607666, 28.954999923706055, 30.337499618530273, 34.247501373291016, 35.915000915527344, 35.912498474121094, 38.189998626708984, 36.005001068115234, 37.182498931884766, 41.0, 38.529998779296875, 42.2599983215332, 42.962501525878906, 42.307498931884766, 41.85749816894531, 44.529998779296875, 41.94499969482422, 41.314998626708984, 46.717498779296875, 46.27750015258789, 47.5724983215332, 56.907501220703125, 56.435001373291016, 54.71500015258789, 44.64500045776367, 39.435001373291016, 41.61000061035156, 43.287498474121094, 47.48749923706055, 50.16749954223633, 43.76750183105469, 49.47999954223633, 53.2599983215332, 52.185001373291016, 55.99250030517578, 62.189998626708984, 66.8125, 73.4124984741211, 77.37750244140625, 68.33999633789062, 63.5724983215332, 73.44999694824219, 79.48500061035156, 91.19999694824219, 106.26000213623047, 129.0399932861328, 115.80999755859375, 108.86000061035156, 119.05000305175781, 132.69000244140625, 131.9600067138672, 121.26000213623047, 122.1500015258789, 131.4600067138672, 124.61000061035156, 136.9600067138672, 145.86000061035156, 151.8300018310547, 141.5, 149.8000030517578, 165.3000030517578, 177.57000732421875, 174.77999877929688, 165.1199951171875, 174.61000061035156, 157.64999389648438, 148.83999633789062, 136.72000122070312, 162.50999450683594, 157.22000122070312, 138.1999969482422, 153.33999633789062, 148.02999877929688, 129.92999267578125, 144.2899932861328, 147.41000366210938, 164.89999389648438, 169.67999267578125, 177.25, 193.97000122070312, 196.4499969482422, 187.8699951171875, 171.2100067138672, 170.77000427246094, 189.9499969482422, 192.52999877929688, 184.39999389648438, 180.75, 171.47999572753906, 170.3300018310547, 192.25, 210.6199951171875, 222.0800018310547, 229.0, 233.0, 225.91000366210938, 237.3300018310547, 250.4199981689453, 236.0, 241.83999633789062, 222.1300048828125, 212.5, 200.85000610351562, 205.1699981689453, 207.57000732421875, 232.13999938964844, 254.6300048828125, 270.3699951171875, 278.8500061035156, 271.8599853515625, 260.3299865722656], "Microsoft": [28.18000030517578, 28.670000076293945, 29.290000915527344, 30.540000915527344, 25.799999237060547, 23.010000228881836, 25.809999465942383, 23.469999313354492, 24.489999771118164, 26.670000076293945, 25.260000228881836, 27.90999984741211, 27.729999542236328, 26.579999923706055, 25.389999389648438, 25.920000076293945, 25.010000228881836, 26.0, 27.399999618530273, 26.600000381469727, 24.889999389648438, 26.6299991607666, 25.579999923706055, 25.959999084472656, 29.530000686645508, 31.739999771118164, 32.2599983215332, 32.02000045776367, 29.190000534057617, 30.59000015258789, 29.469999313354492, 30.81999969482422, 29.760000228881836, 28.540000915527344, 26.6200008392334, 26.709999084472656, 27.450000762939453, 27.799999237060547, 28.610000610351562, 33.099998474121094, 34.900001525878906, 34.540000915527344, 31.84000015258789, 33.400001525878906, 33.279998779296875, 35.40999984741211, 38.130001068115234, 37.40999984741211, 37.84000015258789, 38.310001373291016, 40.9900016784668, 40.400001525878906, 40.939998626708984, 41.70000076293945, 43.15999984741211, 45.43000030517578, 46.36000061035156, 46.95000076293945, 47.810001373291016, 46.45000076293945, 40.400001525878906, 43.849998474121094, 40.65999984741211, 48.63999938964844, 46.86000061035156, 44.150001525878906, 46.70000076293945, 43.52000045776367, 44.2599983215332, 52.63999938964844, 54.349998474121094, 55.47999954223633, 55.09000015258789, 50.880001068115234, 55.22999954223633, 49.869998931884766, 53.0, 51.16999816894531, 56.68000030517578, 57.459999084472656, 57.599998474121094, 59.91999816894531, 60.2599983215332, 62.13999938964844, 64.6500015258789, 63.97999954223633, 65.86000061035156, 68.45999908447266, 69.83999633789062, 68.93000030517578, 72.69999694824219, 74.7699966430664, 74.48999786376953, 83.18000030517578, 84.16999816894531, 85.54000091552734, 95.01000213623047, 93.7699966430664, 91.2699966430664, 93.5199966430664, 98.83999633789062, 98.61000061035156, 106.08000183105469, 112.33000183105469, 114.37000274658203, 106.80999755859375, 110.88999938964844, 101.56999969482422, 104.43000030517578, 112.02999877929688, 117.94000244140625, 130.60000610351562, 123.68000030517578, 133.9600067138672, 136.27000427246094, 137.86000061035156, 139.02999877929688, 143.3699951171875, 151.3800048828125, 157.6999969482422, 170.22999572753906, 162.00999450683594, 157.7100067138672, 179.2100067138672, 183.25, 203.50999450683594, 205.00999450683594, 225.52999877929688, 210.3300018310547, 202.47000122070312, 214.07000732421875, 222.4199981689453, 231.9600067138672, 232.3800048828125, 235.77000427246094, 252.17999267578125, 249.67999267578125, 270.8999938964844, 284.9100036621094, 301.8800048828125, 281.9200134277344, 331.6199951171875, 330.5899963378906, 336.32000732421875, 310.9800109863281, 298.7900085449219, 308.30999755859375, 277.5199890136719, 271.8699951171875, 256.8299865722656, 280.739990234375, 261.4700012207031, 232.89999389648438, 232.1300048828125, 255.13999938964844, 239.82000732421875, 247.80999755859375, 249.4199981689453, 288.29998779296875, 307.260009765625, 328.3900146484375, 340.5400085449219, 335.9200134277344, 327.760009765625, 315.75, 338.1099853515625, 378.9100036621094, 376.0400085449219, 397.5799865722656, 413.6400146484375, 420.7200012207031, 389.3299865722656, 415.1300048828125, 446.95001220703125, 418.3500061035156, 417.1400146484375, 430.29998779296875, 406.3500061035156, 423.4599914550781, 421.5, 415.05999755859375, 396.989990234375, 375.3900146484375, 395.260009765625, 460.3599853515625, 497.4100036621094, 533.5, 506.69000244140625, 517.9500122070312, 517.8099975585938, 492.010009765625, 483.6199951171875, 483.4700012207031], "Nike": [15.9375, 16.899999618530273, 18.375, 18.977500915527344, 18.094999313354492, 16.887500762939453, 18.40999984741211, 17.5, 20.03499984741211, 20.360000610351562, 21.532499313354492, 21.354999542236328, 20.6200008392334, 22.25749969482422, 18.924999237060547, 20.579999923706055, 21.112499237060547, 22.4950008392334, 22.537500381469727, 21.662500381469727, 21.377500534057617, 24.087499618530273, 24.045000076293945, 24.092500686645508, 25.997499465942383, 26.979999542236328, 27.110000610351562, 27.967500686645508, 27.045000076293945, 21.94499969482422, 23.337499618530273, 24.34000015258789, 23.727500915527344, 22.844999313354492, 24.3700008392334, 25.799999237060547, 27.024999618530273, 27.229999542236328, 29.5049991607666, 31.799999237060547, 30.829999923706055, 31.84000015258789, 31.459999084472656, 31.40999984741211, 36.31999969482422, 37.880001068115234, 39.56999969482422, 39.31999969482422, 36.42499923706055, 39.150001525878906, 36.93000030517578, 36.474998474121094, 38.45500183105469, 38.775001525878906, 38.564998626708984, 39.275001525878906, 44.599998474121094, 46.48500061035156, 49.64500045776367, 48.07500076293945, 46.125, 48.560001373291016, 50.165000915527344, 49.41999816894531, 50.834999084472656, 54.0099983215332, 57.61000061035156, 55.875, 61.48500061035156, 65.51499938964844, 66.13999938964844, 62.5, 62.0099983215332, 61.59000015258789, 61.470001220703125, 58.939998626708984, 55.220001220703125, 55.20000076293945, 55.5, 57.63999938964844, 52.650001525878906, 50.18000030517578, 50.06999969482422, 50.83000183105469, 52.900001525878906, 57.15999984741211, 55.72999954223633, 55.40999984741211, 52.9900016784668, 59.0, 59.04999923706055, 52.810001373291016, 51.849998474121094, 54.9900016784668, 60.41999816894531, 62.54999923706055, 68.22000122070312, 67.02999877929688, 66.44000244140625, 68.38999938964844, 71.80000305175781, 79.68000030517578, 76.91000366210938, 82.19999694824219, 84.72000122070312, 75.04000091552734, 75.12000274658203, 74.13999938964844, 81.87999725341797, 85.7300033569336, 84.20999908447266, 87.83000183105469, 77.13999938964844, 83.94999694824219, 86.02999877929688, 84.5, 93.91999816894531, 89.55000305175781, 93.48999786376953, 101.30999755859375, 96.30000305175781, 89.37999725341797, 82.73999786376953, 87.18000030517578, 98.58000183105469, 98.05000305175781, 97.61000061035156, 111.88999938964844, 125.54000091552734, 120.08000183105469, 134.6999969482422, 141.47000122070312, 133.58999633789062, 134.77999877929688, 132.88999938964844, 132.6199951171875, 136.4600067138672, 154.49000549316406, 167.50999450683594, 164.74000549316406, 145.22999572753906, 167.2899932861328, 169.24000549316406, 166.6699981689453, 148.07000732421875, 136.5500030517578, 134.55999755859375, 124.69999694824219, 118.8499984741211, 102.19999694824219, 114.91999816894531, 106.44999694824219, 83.12000274658203, 92.68000030517578, 109.69000244140625, 117.01000213623047, 127.33000183105469, 118.79000091552734, 122.63999938964844, 126.72000122070312, 105.26000213623047, 110.37000274658203, 110.38999938964844, 101.70999908447266, 95.62000274658203, 102.7699966430664, 110.2699966430664, 108.56999969482422, 101.52999877929688, 103.93000030517578, 93.9800033569336, 92.26000213623047, 95.05000305175781, 75.37000274658203, 74.86000061035156, 83.31999969482422, 88.4000015258789, 77.12999725341797, 78.7699966430664, 75.66999816894531, 76.9000015258789, 79.43000030517578, 63.47999954223633, 56.400001525878906, 60.59000015258789, 71.04000091552734, 74.69000244140625, 77.37000274658203, 69.7300033569336, 64.58999633789062, 64.62999725341797, 63.709999084472656, 63.220001220703125], "Louis Vuitton (LVMH)": [79.06999969482422, 79.5999984741211, 86.54000091552734, 86.83999633789062, 86.22000122070312, 89.80999755859375, 93.62000274658203, 91.7699966430664, 107.5999984741211, 112.5999984741211, 116.8499984741211, 123.3499984741211, 114.05000305175781, 114.25, 111.69999694824219, 121.25, 120.9000015258789, 124.0999984741211, 127.94999694824219, 117.94999694824219, 99.6500015258789, 120.25, 116.5999984741211, 109.4000015258789, 123.5999984741211, 126.30000305175781, 128.85000610351562, 125.1500015258789, 119.4000015258789, 119.8499984741211, 122.55000305175781, 129.8000030517578, 117.0, 125.4000015258789, 134.89999389648438, 137.8000030517578, 138.85000610351562, 131.89999389648438, 133.89999389648438, 131.5, 136.64999389648438, 124.5, 136.64999389648438, 132.5500030517578, 145.60000610351562, 141.8000030517578, 138.75, 132.60000610351562, 132.14999389648438, 134.85000610351562, 131.9499969482422, 141.75, 145.9499969482422, 140.8000030517578, 128.60000610351562, 132.0500030517578, 128.6999969482422, 135.35000610351562, 144.5, 132.25, 143.5, 163.89999389648438, 164.14999389648438, 156.60000610351562, 162.14999389648438, 157.14999389648438, 170.6999969482422, 148.64999389648438, 152.1999969482422, 169.60000610351562, 158.75, 147.14999389648438, 148.1999969482422, 153.8000030517578, 150.5, 145.10000610351562, 144.0500030517578, 136.0, 153.39999389648438, 151.6999969482422, 151.8000030517578, 165.5500030517578, 171.6999969482422, 181.39999389648438, 186.60000610351562, 189.4499969482422, 205.85000610351562, 226.5, 227.14999389648438, 218.3000030517578, 212.6999969482422, 220.25, 233.4499969482422, 256.1000061035156, 244.5, 245.39999389648438, 252.60000610351562, 246.5, 250.1999969482422, 289.29998779296875, 297.04998779296875, 285.20001220703125, 298.8500061035156, 302.1499938964844, 304.6000061035156, 268.79998779296875, 252.5500030517578, 258.20001220703125, 279.75, 302.0, 327.8999938964844, 349.04998779296875, 338.6000061035156, 374.29998779296875, 375.29998779296875, 362.3999938964844, 364.6499938964844, 382.5, 407.29998779296875, 414.20001220703125, 395.29998779296875, 370.8500061035156, 338.45001220703125, 352.45001220703125, 375.0, 390.5, 366.75, 392.79998779296875, 399.3999938964844, 402.29998779296875, 482.8999938964844, 510.8999938964844, 498.29998779296875, 525.0, 568.0999755859375, 626.2000122070312, 652.0, 661.2999877929688, 673.9000244140625, 626.7999877929688, 620.0999755859375, 677.2000122070312, 686.5999755859375, 727.0, 722.5999755859375, 659.9000244140625, 649.4000244140625, 619.5, 597.2000122070312, 581.7000122070312, 675.0, 647.5, 610.4000244140625, 639.0, 737.2999877929688, 679.9000244140625, 800.0, 789.0, 844.4000244140625, 871.0, 813.9000244140625, 863.0, 848.0999755859375, 782.2000122070312, 716.4000244140625, 674.5, 702.7000122070312, 733.5999755859375, 773.5999755859375, 842.7999877929688, 833.7000122070312, 774.4000244140625, 734.9000244140625, 713.5999755859375, 653.0, 674.2999877929688, 688.5, 609.7999877929688, 592.5, 635.5, 703.5, 694.9000244140625, 571.7000122070312, 487.8999938964844, 478.25, 444.6000061035156, 472.3500061035156, 504.1000061035156, 520.5, 612.0999755859375, 635.5, 645.0, 624.5], "Coca-Cola": [27.125, 26.360000610351562, 27.5, 26.725000381469727, 25.700000762939453, 25.059999465942383, 27.55500030517578, 27.940000534057617, 29.260000228881836, 30.65999984741211, 31.584999084472656, 32.8849983215332, 31.424999237060547, 31.959999084472656, 33.16999816894531, 33.72999954223633, 33.404998779296875, 33.64500045776367, 34.005001068115234, 35.224998474121094, 33.779998779296875, 34.15999984741211, 33.6150016784668, 34.98500061035156, 33.76499938964844, 34.93000030517578, 37.005001068115234, 38.15999984741211, 37.3650016784668, 39.095001220703125, 40.400001525878906, 37.400001525878906, 37.93000030517578, 37.18000030517578, 37.91999816894531, 36.25, 37.2400016784668, 38.720001220703125, 40.439998626708984, 42.33000183105469, 39.9900016784668, 40.11000061035156, 40.08000183105469, 38.18000030517578, 37.880001068115234, 39.56999969482422, 40.189998626708984, 41.310001373291016, 37.81999969482422, 38.20000076293945, 38.65999984741211, 40.790000915527344, 40.90999984741211, 42.36000061035156, 39.290000915527344, 41.720001220703125, 42.65999984741211, 41.880001068115234, 44.83000183105469, 42.220001220703125, 41.16999816894531, 43.29999923706055, 40.54999923706055, 40.560001373291016, 40.959999084472656, 39.22999954223633, 41.08000183105469, 39.31999969482422, 40.119998931884766, 42.349998474121094, 42.619998931884766, 42.959999084472656, 42.91999816894531, 43.130001068115234, 46.38999938964844, 44.79999923706055, 44.599998474121094, 45.33000183105469, 43.630001068115234, 43.43000030517578, 42.31999969482422, 42.400001525878906, 40.349998474121094, 41.459999084472656, 41.56999969482422, 41.959999084472656, 42.439998626708984, 43.150001525878906, 45.470001220703125, 44.849998474121094, 45.84000015258789, 45.54999923706055, 45.0099983215332, 45.97999954223633, 45.77000045776367, 45.880001068115234, 47.59000015258789, 43.220001220703125, 43.43000030517578, 43.209999084472656, 43.0, 43.86000061035156, 46.630001068115234, 44.56999969482422, 46.189998626708984, 47.880001068115234, 50.400001525878906, 47.349998474121094, 48.130001068115234, 45.34000015258789, 46.86000061035156, 49.060001373291016, 49.130001068115234, 50.91999816894531, 52.630001068115234, 55.040000915527344, 54.439998626708984, 54.43000030517578, 53.400001525878906, 55.349998474121094, 58.400001525878906, 53.4900016784668, 44.25, 45.88999938964844, 46.68000030517578, 44.68000030517578, 47.2400016784668, 49.529998779296875, 49.369998931884766, 48.060001373291016, 51.599998474121094, 54.84000015258789, 48.150001525878906, 48.9900016784668, 52.709999084472656, 53.97999954223633, 55.290000915527344, 54.11000061035156, 57.029998779296875, 56.310001373291016, 52.470001220703125, 56.369998931884766, 52.45000076293945, 59.209999084472656, 61.0099983215332, 62.2400016784668, 62.0, 64.61000061035156, 63.380001068115234, 62.90999984741211, 64.16999816894531, 61.709999084472656, 56.02000045776367, 59.849998474121094, 63.61000061035156, 63.61000061035156, 61.31999969482422, 59.5099983215332, 62.029998779296875, 64.1500015258789, 59.65999984741211, 60.220001220703125, 61.93000030517578, 59.83000183105469, 55.97999954223633, 56.4900016784668, 58.439998626708984, 58.93000030517578, 59.4900016784668, 60.02000045776367, 61.18000030517578, 61.77000045776367, 62.93000030517578, 63.650001525878906, 66.73999786376953, 72.47000122070312, 71.86000061035156, 65.30999755859375, 64.08000183105469, 62.2599983215332, 63.47999954223633, 71.20999908447266, 71.62000274658203, 72.55000305175781, 72.0999984741211, 70.75, 67.88999938964844, 68.98999786376953, 66.31999969482422, 68.9000015258789, 73.12000274658203, 69.91000366210938, 67.54000091552734], "McDonald's": [62.43000030517578, 63.849998474121094, 66.72000122070312, 70.58999633789062, 66.87000274658203, 65.87000274658203, 69.7300033569336, 73.05999755859375, 74.51000213623047, 77.7699966430664, 78.30000305175781, 76.76000213623047, 73.66999816894531, 75.68000030517578, 76.08999633789062, 78.30999755859375, 81.54000091552734, 84.31999969482422, 86.4800033569336, 90.41000366210938, 87.81999969482422, 92.8499984741211, 95.5199966430664, 100.33000183105469, 99.05000305175781, 99.27999877929688, 98.0999984741211, 97.44999694824219, 89.33999633789062, 88.52999877929688, 89.36000061035156, 89.48999786376953, 91.75, 86.80000305175781, 87.04000091552734, 88.20999908447266, 95.29000091552734, 95.9000015258789, 99.69000244140625, 102.13999938964844, 96.56999969482422, 99.0, 98.08000183105469, 94.36000061035156, 96.20999908447266, 96.5199966430664, 97.37000274658203, 97.02999877929688, 94.16999816894531, 95.1500015258789, 98.02999877929688, 101.37999725341797, 101.43000030517578, 100.73999786376953, 94.55999755859375, 93.72000122070312, 94.80999755859375, 93.7300033569336, 96.80999755859375, 93.69999694824219, 92.44000244140625, 98.9000015258789, 97.44000244140625, 96.55000305175781, 95.93000030517578, 95.06999969482422, 99.86000061035156, 95.0199966430664, 98.52999877929688, 112.25, 114.16000366210938, 118.13999938964844, 123.77999877929688, 117.19000244140625, 125.68000030517578, 126.48999786376953, 122.05999755859375, 120.33999633789062, 117.6500015258789, 115.66000366210938, 115.36000061035156, 112.56999969482422, 119.2699966430664, 121.72000122070312, 122.56999969482422, 127.6500015258789, 129.61000061035156, 139.92999267578125, 150.88999938964844, 153.16000366210938, 155.13999938964844, 159.97000122070312, 156.67999267578125, 166.91000366210938, 171.97000122070312, 172.1199951171875, 171.13999938964844, 157.74000549316406, 156.3800048828125, 167.44000244140625, 160.00999450683594, 156.69000244140625, 157.5399932861328, 162.22999572753906, 167.2899932861328, 176.89999389648438, 188.50999450683594, 177.57000732421875, 178.77999877929688, 183.83999633789062, 189.89999389648438, 197.57000732421875, 198.27000427246094, 207.66000366210938, 210.72000122070312, 217.97000122070312, 214.7100067138672, 196.6999969482422, 194.47999572753906, 197.61000061035156, 213.97000122070312, 194.1699981689453, 165.35000610351562, 187.55999755859375, 186.32000732421875, 184.47000122070312, 194.27999877929688, 213.52000427246094, 219.49000549316406, 213.0, 217.44000244140625, 214.5800018310547, 207.83999633789062, 206.13999938964844, 224.13999938964844, 236.0800018310547, 233.88999938964844, 230.99000549316406, 242.7100067138672, 237.4600067138672, 241.11000061035156, 245.5500030517578, 244.60000610351562, 268.07000732421875, 259.45001220703125, 244.77000427246094, 247.27999877929688, 249.16000366210938, 252.2100067138672, 246.8800048828125, 263.3699951171875, 252.27999877929688, 230.74000549316406, 272.6600036621094, 272.7900085449219, 263.5299987792969, 267.3999938964844, 263.9100036621094, 279.6099853515625, 295.75, 285.1099853515625, 298.4100036621094, 293.20001220703125, 281.1499938964844, 263.44000244140625, 262.1700134277344, 281.8399963378906, 296.510009765625, 292.7200012207031, 292.2799987792969, 281.95001220703125, 273.0400085449219, 258.8900146484375, 254.83999633789062, 265.3999938964844, 288.6600036621094, 304.510009765625, 292.1099853515625, 296.010009765625, 289.8900146484375, 288.70001220703125, 308.3299865722656, 312.3699951171875, 319.6499938964844, 313.8500061035156, 292.1700134277344, 300.07000732421875, 313.5400085449219, 303.8900146484375, 298.42999267578125, 311.82000732421875, 305.6300048828125, 304.1600036621094]}, "companies": ["Apple", "Microsoft", "Nike", "Louis Vuitton (LVMH)", "Coca-Cola", "McDonald's"], "defaultSelected": ["Apple", "Microsoft", "Coca-Cola"], "colors": {"Microsoft": "#F28C28", "Apple": "#000000", "Nike": "#808080", "Louis Vuitton (LVMH)": "#8B5A2B", "Coca-Cola": "#E41A1C", "McDonald's": "#FFC300"}};
const TITLE = "Historical performance of best Tech, Food and Fashion stocks";

const menu = document.getElementById("menu");
const dropbtn = document.getElementById("dropbtn");
const itemsDiv = document.getElementById("items");
const search = document.getElementById("search");

let selected = new Set(DATA.defaultSelected);

function updateLabel() {
  const arr = Array.from(selected);
  dropbtn.textContent =
    arr.length === 0 ? "Choose stocks…" :
    arr.length <= 3 ? arr.join(" + ") :
    arr.length + " stocks selected";
}

function renderItems(filter="") {
  itemsDiv.innerHTML = "";
  DATA.companies.forEach(name => {
    if (filter && !name.toLowerCase().includes(filter)) return;
    const row = document.createElement("div");
    row.className = "item";
    const cb = document.createElement("input");
    cb.type = "checkbox";
    cb.checked = selected.has(name);
    cb.onchange = () => {
      cb.checked ? selected.add(name) : selected.delete(name);
      updateLabel();
    };
    row.onclick = e => { if (e.target !== cb) cb.click(); };
    row.appendChild(cb);
    row.appendChild(document.createTextNode(name));
    itemsDiv.appendChild(row);
  });
}

function draw() {
  const names = Array.from(selected);

  const traces = names.map(name => ({
    x: DATA.dates,
    y: DATA.close[name],
    type: "scatter",
    mode: "lines",
    name: name,
    connectgaps: true,           // smooth visual continuity if any nulls remain
    line: { color: DATA.colors[name], width: 2 }
  }));

  const subtitle =
    names.length > 0
      ? "Selected companies: " + names.join(", ")
      : "No company selected";

  Plotly.newPlot("chart", traces, {
    title: { text: TITLE, x: 0.5 },
    annotations: [{
      text: subtitle,
      x: 0.5,
      y: 1.02,
      xref: "paper",
      yref: "paper",
      showarrow: false,
      font: { size: 13, color: "#555" }
    }],
    xaxis: { title: "Date", rangeslider: { visible: true } },
    yaxis: { title: "Price (USD)" },
    hovermode: "x unified",
    legend: { title: { text: "Stocks" } }
  });
}

dropbtn.onclick = () => menu.classList.toggle("open");
document.onclick = e => {
  if (!menu.contains(e.target) && e.target !== dropbtn)
    menu.classList.remove("open");
};
search.oninput = e => renderItems(e.target.value.toLowerCase());

document.getElementById("selectAll").onclick = () => {
  DATA.companies.forEach(c => selected.add(c));
  renderItems(search.value);
  updateLabel();
};
document.getElementById("clearAll").onclick = () => {
  selected.clear();
  renderItems(search.value);
  updateLabel();
};
document.getElementById("apply").onclick = () => {
  menu.classList.remove("open");
  draw();
};

updateLabel();
renderItems();
draw();
</script>
</body>
</html>
